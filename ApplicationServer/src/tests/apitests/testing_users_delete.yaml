---
- config:
    - testset: "Testing users url - delete"

- test:
    - name: "Get user"
    - group: "[users - delete]"
    - url: "/users/1"
    - method: "GET"
    - validators:
          - compare: {jsonpath_mini: "id", comparator: "eq", expected: 1}
          - compare: {jsonpath_mini: "first_name", comparator: "eq", expected: "John"}
          - compare: {jsonpath_mini: "last_name", comparator: "eq", expected: "Doe"}
    - expected_status: [200] # ok

- test:
    - name: "Get user"
    - group: "[users - delete]"
    - url: "/users/1"
    - headers: {Authorization: tokenUser1}
    - method: "DELETE"
    - expected_status: [200] # ok

- test:
    - name: "Get user data - user not found"
    - group: "[users - delete]"
    - url: "/users/1"
    - method: "GET"
    - validators:
          - compare: {jsonpath_mini: "error", comparator: "eq", expected: "Usuario con el id 1 no existe en el sistema"}
    - expected_status: [404] # not found